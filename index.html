<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Interactive Comic</title>
  <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

  <style>
    body {
      font-family: 'Comic Neue', Arial, sans-serif;
      background-color: #8c5c47;
      margin: 0;
      padding: 0;
    }


    /* Menu Bar Styles */
    nav {
      background-color: #4c2c17;
      color: #07485B;
      padding: 10px;
      position: fixed;
      top: 0;
      width: 100%;
      display: flex;
      justify-content: space-around;
      z-index: 1000;
    }


    nav a {
      color: #FFFFFF;
      text-decoration: none;
      padding: 10px;
      font-size: 1.2rem;
    }


    nav a:hover {
      opacity: 0.6; /* Sets the opacity to 70% on hover */
    }


    /* Body content adjustments */
    body {
      margin-top: 60px;
      /* Adjust for fixed menu bar */
      font-size: 24px;
    }


    /* Section styles */
    section {
      padding: 50px 20px;
      text-align: center;
      background-color: #8c5c47;
    }
    

    #about {
      background-color: #8c5c47;
    }


    #contact {
      background-color: #8c5c47;
    }


    #comic-container {
      width: 80%;
    max-width: 1000px;
    position: relative;
    border: 4px solid #000;
    background-color: #fff;
    margin: 50px auto;
    padding: 20px;
    border-radius: 15px; /* Rounded corners */
    box-shadow: 8px 8px 0px #000; /* Comic-style shadow */
    text-align: center;
    }


    #comic-image {
      width: 100%;
      height: auto;
    }


    #dialogue-box {
      padding: 10px;
      background-color: #fff;
      border-top: 2px solid #000;
      font-size: 1.2rem;
    }


    /* Adjust interactive elements */
    .interactive-element {
      position: absolute;
      background: url('media/circle.png') no-repeat center center;
      background-size: contain;
      width: 50px;
      /* Adjust as needed */
      height: 50px;
      /* Adjust as needed */
      cursor: pointer;
      display: none;
      /* Initially hidden */
    }

    /* Show interactive elements on hover */
    #comic-container:hover .interactive-element {
      display: block;
    }

    #phone {
      top: 23%;
      left: 70%;
      width: 80px;
      height: 50px;
    }

    #Ivan_Face {
      top: 14%;
      left: 67%;
      width: 60px;
      height: 60px;
    }

    #Uditi_Face {
      top: 13%;
      left: 20%;
      width: 60px;
      height: 60px;
    }

    #Haroon_Face {
      top: 47%;
      left: 22%;
      width: 60px;
      height: 60px;
    }

    #Calendar {
      top: 10%;
      left: 15%;
      width: 50px;
      height: 50px;
    }

    #Uditi_Laptop {
      top: 56%;
      left: 54%;
      width: 50px;
      height: 50px;
    }

    #Haroon_Papers {
      top: 70%;
      left: 75%;
      width: 50px;
      height: 50px;
    }

    #Vial {
      top: 57%;
      left: 30%;
      width: 50px;
      height: 50px;
    }

    #Ivan_Phone {
      top: 20%;
      left: 73%;
      width: 50px;
      height: 50px;
    }

    #Ivan_Papers {
      top: 64%;
      left: 45%;
      width: 50px;
      height: 50px;
    }


    #subtitle {
      position: absolute;
      bottom: 50px;
      left: 0;
      right: 0;
      text-align: center;
      background-color: rgba(0, 0, 0, 0.7);
      color: #fff;
      font-size: 1rem;
      padding: 5px;
      display: none;
    }


    #nav-buttons {
      margin-top: 20px;
    }

    /* Flexbox layout for team members */
    .team-section {
    background-color: #fff;
    border: 4px solid #000;
    border-radius: 15px; /* Rounded corners */
    padding: 30px;
    width: 80%;
    max-width: 800px;
    margin: 50px auto;
    box-shadow: 8px 8px 0px #000; /* Comic-style shadow */
    text-align: center;
}

.team-container {
    display: flex;
    justify-content: space-around;
    flex-wrap: wrap;
    gap: 20px;
    margin-top: 20px;
}

.team-member {
    background-color: #f8ede5;
    color: #4c2c17;
    border: 4px solid #000;
    border-radius: 15px;
    padding: 20px;
    width: 250px;
    box-shadow: 8px 8px 0px #000; /* Comic-style shadow */
    transition: transform 0.3s;
    text-align: center;
}

.team-member img {
    width: 100%;
    max-width: 250px;
    aspect-ratio: 1 / 1;
    object-fit: cover;
    border-radius: 50%;
    margin-bottom: 15px;
    border: 3px solid #000; /* Border around the team member's image */
}

.team-member h3 {
    font-size: 1.3rem;
    margin: 10px 0;
}

.team-member p {
    font-size: 0.9rem;
    color: #00000;
}

.team-member:hover {
    transform: translateY(-10px);
}
    /* Responsive design */
    @media (max-width: 768px) {
      .team-container {
        flex-direction: column;
        align-items: center;
      }

      .team-member {
        width: 80%;
      }
    }


    button {


      background-color: #f8ede5;
    color: #4c2c17;
    border: 4px solid #000;
    border-radius: 15px; /* Rounded corners */
    padding: 15px 25px;
    cursor: pointer;
    font-size: 1.2rem;
    box-shadow: 5px 5px 0px #000; /* Comic-style shadow */
    transition: transform 0.3s ease, background-color 0.3s ease;

    }

    .social-buttons {
    text-align: center; /* Center align the buttons */
    padding: 20px; /* Padding around the buttons */
}

.social-buttons a {
    margin: 0 10px; /* Space between buttons */
    font-size: 24px; /* Icon size */
    color: #333; /* Icon color */
    text-decoration: none; /* Removes underline */
}

.social-buttons a:hover {
    color: #555; /* Icon hover color */
}


#about, #contact {
    background-color: #fff;
    border: 4px solid #000;
    border-radius: 15px; /* Rounded corners */
    padding: 30px;
    width: 80%;
    max-width: 800px;
    margin: 50px auto;
    box-shadow: 8px 8px 0px #000; /* Comic-style shadow */
    text-align: center;
    font-size: 1.2rem;
}

#about h2, #contact h2 {
    font-family: 'Comic Neue', Arial, sans-serif;
    font-size: 2rem;
    margin-bottom: 20px;
}

#about p, #contact p {
    line-height: 1.6;
    font-size: 1.1rem;
}

  </style>
</head>

<body>


  <!-- Menu Bar -->
  <nav>
    <a href="#comic">Comic</a>
    <a href="#about">About</a>
    <a href="#contact">Contact</a>
  </nav>


  <!-- Comic Section -->
  <section id="comic">
    <div id="comic-container">

      <h2 align = 'center'>Ghosted</h2>

      <!-- Comic Image -->
      <img id="comic-image" src="images/scene1.jpg" alt="Comic Scene">


      <!-- Interactive elements -->
      <div id="phone" class="interactive-element"></div>
      <div id="Ivan_Face" class="interactive-element"></div>
      <div id="Uditi_Face" class="interactive-element"></div>
      <div id="Haroon_Face" class="interactive-element"></div>
      <div id="Calendar" class="interactive-element"></div>
      <div id="Uditi_Laptop" class="interactive-element"></div>
      <div id="Vial" class="interactive-element"></div>
      <div id="Haroon_Papers" class="interactive-element"></div>
      <div id="Ivan_Phone" class="interactive-element"></div>
      <div id="Ivan_Papers" class="interactive-element"></div>



      <!-- Subtitle that pops up on interaction -->
      <div id="subtitle"></div>


      <!-- Dialogue box -->
      <div id="dialogue-box">Maryam’s body is found in a hallway.</div>
    </div>


    <!-- Navigation buttons -->
    <div id="nav-buttons">
      <button id="next-btn">Next</button>
    </div>
  </section>

  <!-- Team Section -->
  <div class="team-section">
    <h2 align = 'center'>Meet the Team</h2>
    <div class="team-container">
      <!-- Team Member 1 -->
      <div class="team-member">
        <img src="media/ivan.jpg" alt="Team Member 1">
        <h3>Ivan</h3>
        <p>Team leader and web developer.</p>
      </div>

      <!-- Team Member 2 -->
      <div class="team-member">
        <img src="media/uditii.jpg" alt="Team Member 2">
        <h3>Uditi</h3>
        <p>Web developer.</p>
      </div>

      <!-- Team Member 3 -->
      <div class="team-member">
        <img src="media/haroon.jpg" alt="Team Member 3">
        <h3>Haroon</h3>
        <p>Animator.</p>
      </div>

      <!-- Team Member 4 -->
      <div class="team-member">
        <img src="media/maryam.jpg" alt="Team Member 4">
        <h3>Maryam</h3>
        <p>Animator, ghost.</p>
      </div>
    </div>

  </div>
  <!-- About Section -->
  <section id="about">
    <h2>About This Comic</h2>
    <p>This interactive comic explores the mystery of Maryam's disappearance. It's designed to engage readers through
      clickable elements that uncover different parts of the story.</p>
    <p>Our goal is to merge traditional storytelling with interactive media to create an immersive experience for
      readers of all ages. Whether you're a fan of comics, mysteries, or both, we hope you enjoy this journey!</p>
  </section>


  <!-- Contact Section -->
  <section id="contact">
    <h2>Contact Us</h2>
    <p>If you have any questions, feedback, or just want to say hi, feel free to reach out to us!</p>
    <div class="social-buttons">
      <a href="mailto:us2133@nyu.edu" class="email-btn">
          <i class="fa fa-envelope"></i>
      </a>
      <a href="https://www.instagram.com/uditisharma" target="_blank" class="instagram-btn">
          <i class="fa-brands fa-instagram"></i>
      </a>
  </div>

  </section>


  <script>
    // Scene data (from the JavaScript scene manager system)
    let scenes = {
      "scene_1": {
        scene_id: 1,
        image: "media/p1a.jpg",
        dialogue: "Where am I, and why am I dead?!",
        next_scenes: [2],
        interactive_elements: [{ element: "phone", triggers: 101, subtitle: "" },
        { element: "coffee_cup", triggers: null, subtitle: "The coffee cup is still warm." }
        ]
      },
      "scene_101": {
        scene_id: 101,
        image: "media/p1a_c1.jpg",
        dialogue: "",
        next_scenes: [2],
        interactive_elements: []
      },
      "scene_2": {
        scene_id: 2,
        image: "media/p2a.jpg",
        dialogue: "I remember I was working with my group. But something seemed off.",
        next_scenes: [201],
        interactive_elements: []
      },
      "scene_201": {
        scene_id: 201,
        image: "media/p2b.jpg",
        dialogue: "Why was everyone acting so off that day? Were they really annoyed at me, or was something deeper going on...?",
        next_scenes: [3],
        interactive_elements: [
          { element: "Ivan_Face", triggers: null, subtitle: "Ivan was really stressed out over the assignment." },
          { element: "Uditi_Face", triggers: null, subtitle: "Uditi was distracted by her phone." },
          { element: "Haroon_Face", triggers: null, subtitle: "Haroon was looking at me weird." }
        ]
      }, "scene_3": {
        scene_id: 3,
        image: "media/p3a.jpg",
        dialogue: "Uditi’s been acting strange. Why didn’t I notice this sooner? What was she hiding?",
        next_scenes: [4],
        interactive_elements: [
          { element: "Calendar", triggers: 301, subtitle: "", increments_clue_counter: true },
          { element: "Uditi_Laptop", triggers: 302, subtitle: "", increments_clue_counter: true },
        ]
      }, "scene_301": {
        scene_id: 301,
        image: "media/p3a_c1.jpg",
        dialogue: "That date… what was so important about today, Uditi?",
        next_scenes: [3],
        interactive_elements: []
      }, "scene_302": {
        scene_id: 302,
        image: "media/p3a_c2.jpg",
        dialogue: "What do they need to talk about?",
        next_scenes: [3],
        interactive_elements: []
      },
      "scene_4": {
        scene_id: 401,
        image: "media/p4a.jpg",
        dialogue: "What are you hiding, Haroon? That vial… is that part of your experiment?",
        next_scenes: [5],
        interactive_elements: [
          { element: "Vial", triggers: 401, subtitle: "", increments_clue_counter: true },
          { element: "Haroon_Papers", triggers: 402, subtitle: "", increments_clue_counter: true }]
      },
      "scene_401": {
        scene_id: 401,
        image: "media/p4a_c1.jpg",
        dialogue: "The research papers...",
        next_scenes: [4],
        interactive_elements: []
      }, "scene_402": {
        scene_id: 402,
        image: "media/p4a_c2.jpg",
        dialogue: "The vial...",
        next_scenes: [4],
        interactive_elements: []
      },
      "scene_5": {
        scene_id: 5,
        image: "media/p5a.jpg",
        dialogue: "Ivan, I know you were mad about the project. But were you really angry enough to kill me over it?",
        next_scenes: [6],

        interactive_elements: [
          { element: "Ivan_Phone", triggers: 501, subtitle: "", increments_clue_counter: true },
          { element: "Ivan_Papers", triggers: null, subtitle: "More strange papers...", increments_clue_counter: true }
        ]
      },
      "scene_501": {
        scene_id: 501,
        image: "media/p5a_c1.jpg",
        dialogue: "A message... Is this about me?",
        next_scenes: [5],
        interactive_elements: []
      },
      "scene_6": {
        scene_id: 6,
        image: "media/p6a.jpg",
        dialogue: "Incorrect ending, perhaps you didn't see enough clues... ",
        next_scenes: [null],
        interactive_elements: []
      },
      "scene_601": {
        scene_id: 601,
        image: "media/p6b.jpg",
        dialogue: "This is how I was murdered...",
        next_scenes: [602],
        interactive_elements: []
      },
      "scene_602": {
        scene_id: 601,
        image: "media/p6c.jpg",
        dialogue: "Congrats! You found enough clues and discovered Maryam's killers...",
        next_scenes: [null],
        interactive_elements: []
      }

    };

    let currentScene = scenes["scene_1"];

    // Clue counter initialization
    let clue_counter = 0;

    function displayScene(scene) {
      document.getElementById("comic-image").src = scene.image;
      document.getElementById("dialogue-box").innerText = scene.dialogue;
      document.getElementById("subtitle").style.display = "none";

      // Hide all interactive elements by default
      document.querySelectorAll(".interactive-element").forEach(el => {
        el.style.display = "none";
        el.onclick = null;  // Remove previous click event
      });

      // Show interactive elements for the current scene
      scene.interactive_elements.forEach(interactive => {
        let el = document.getElementById(interactive.element);
        if (el) {
          el.style.display = "block";
          el.onclick = function () {
            handleInteraction(interactive, el);  // Pass the element to handleInteraction
          };
        }
      });
    }

    function handleInteraction(interactive, element) {
      if (interactive.triggers) {
        currentScene = scenes["scene_" + interactive.triggers];
        displayScene(currentScene);
      } else if (interactive.subtitle) {
        let subtitleBox = document.getElementById("subtitle");
        subtitleBox.innerText = interactive.subtitle;
        subtitleBox.style.display = "block";
      }

      // Increment the clue counter and hide the clicked element
      // Check if this interaction should increase the clue counter
      if (interactive.increments_clue_counter) {
        clue_counter++;
        console.log("Clue Counter: " + clue_counter);  // Log the clue count
      }
      element.style.display = "none";
    }

    // Updated next button logic
    document.getElementById("next-btn").addEventListener("click", function () {
      if (!currentScene.next_scenes || currentScene.next_scenes.length === 0) {
        console.error("No next scenes available.");
        return;
      }

      let nextSceneId = currentScene.next_scenes[0];

      // Special check before going to Scene 6 endings
      if (currentScene.scene_id === 5) {
        // Check if clue_counter is 3 or more
        if (clue_counter >= 3) {
          currentScene = scenes["scene_601"];  // Good ending
        } else {
          currentScene = scenes["scene_6"];  // Wrong ending
        }
      } else {
        currentScene = scenes["scene_" + nextSceneId];

        // Check if the scene exists
        if (!currentScene) {
          console.error("Next scene is undefined or null.");
          return;
        }
      }

      displayScene(currentScene);
    });


    displayScene(currentScene);
  </script>

</body>

</html>
