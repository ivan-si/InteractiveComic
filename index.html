<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Interactive Comic</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f0f0f0;
      margin: 0;
      padding: 0;
    }


    /* Menu Bar Styles */
    nav {
      background-color: #333;
      color: #fff;
      padding: 10px;
      position: fixed;
      top: 0;
      width: 100%;
      display: flex;
      justify-content: space-around;
      z-index: 1000;
    }


    nav a {
      color: white;
      text-decoration: none;
      padding: 10px;
      font-size: 1.2rem;
    }


    nav a:hover {
      background-color: #555;
    }


    /* Body content adjustments */
    body {
      margin-top: 60px;
      /* Adjust for fixed menu bar */
    }


    /* Section styles */
    section {
      padding: 50px 20px;
      text-align: center;
      background-color: #fff;
    }


    #about {
      background-color: #e0e0e0;
    }


    #contact {
      background-color: #ccc;
    }


    #comic-container {
      width: 80%;
      max-width: 1000px;
      position: relative;
      border: 2px solid #000;
      background-color: #fff;
      margin: 0 auto;
    }


    #comic-image {
      width: 100%;
      height: auto;
    }


    #dialogue-box {
      padding: 10px;
      background-color: #fff;
      border-top: 2px solid #000;
      font-size: 1.2rem;
    }


    /* Adjust interactive elements */
    .interactive-element {
      position: absolute;
      background: url('media/circle.png') no-repeat center center;
      background-size: contain;
      width: 50px;
      /* Adjust as needed */
      height: 50px;
      /* Adjust as needed */
      cursor: pointer;
      display: none;
      /* Initially hidden */
    }

    /* Show interactive elements on hover */
    #comic-container:hover .interactive-element {
      display: block;
    }

    #phone {
      top: 23%;
      left: 70%;
      width: 80px;
      height: 50px;
    }

    #Ivan_Face {
      top: 14%;
      left: 67%;
      width: 60px;
      height: 60px;
    }

    #Uditi_Face {
      top: 13%;
      left: 20%;
      width: 60px;
      height: 60px;
    }

    #Haroon_Face {
      top: 47%;
      left: 22%;
      width: 60px;
      height: 60px;
    }

    #Calendar {
      top: 10%;
      left: 15%;
      width: 50px;
      height: 50px;
    }

    #Uditi_Laptop {
      top: 56%;
      left: 54%;
      width: 50px;
      height: 50px;
    }

    #Haroon_Papers {
      top: 70%;
      left: 75%;
      width: 50px;
      height: 50px;
    }

    #Vial {
      top: 57%;
      left: 30%;
      width: 50px;
      height: 50px;
    }

    #Ivan_Phone {
      top: 20%;
      left: 73%;
      width: 50px;
      height: 50px;
    }

    #Ivan_Papers {
      top: 64%;
      left: 45%;
      width: 50px;
      height: 50px;
    }


    #subtitle {
      position: absolute;
      bottom: 50px;
      left: 0;
      right: 0;
      text-align: center;
      background-color: rgba(0, 0, 0, 0.7);
      color: #fff;
      font-size: 1rem;
      padding: 5px;
      display: none;
    }


    #nav-buttons {
      margin-top: 20px;
    }

    /* Flexbox layout for team members */
    .team-section {
      margin-top: 50px;
    }

    .team-container {
      display: flex;
      justify-content: space-around;
      flex-wrap: wrap;
      gap: 20px;
      margin-top: 20px;
    }

    .team-member {
      text-align: center;
      background-color: #fff;
      border-radius: 10px;
      padding: 20px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s;
      width: 250px;
    }

    .team-member img {
      width: 100%;
      max-width: 250px;
      aspect-ratio: 1 / 1;
      /* This ensures a 1:1 aspect ratio for perfect circles */
      object-fit: cover;
      /* Ensures the image fills the circle without distortion */
      border-radius: 50%;
      margin-bottom: 15px;
    }


    .team-member h3 {
      font-size: 1.3rem;
      margin: 10px 0;
    }

    .team-member p {
      font-size: 0.9rem;
      color: #666;
    }

    .team-member:hover {
      transform: translateY(-10px);
    }

    /* Responsive design */
    @media (max-width: 768px) {
      .team-container {
        flex-direction: column;
        align-items: center;
      }

      .team-member {
        width: 80%;
      }
    }


    button {
      padding: 10px 20px;
      font-size: 1rem;
      margin: 5px;
      cursor: pointer;
    }
  </style>
</head>

<body>


  <!-- Menu Bar -->
  <nav>
    <a href="#comic">Comic</a>
    <a href="#about">About</a>
    <a href="#contact">Contact</a>
  </nav>


  <!-- Comic Section -->
  <section id="comic">
    <div id="comic-container">
      <!-- Comic Image -->
      <img id="comic-image" src="images/scene1.jpg" alt="Comic Scene">


      <!-- Interactive elements -->
      <div id="phone" class="interactive-element"></div>
      <div id="Ivan_Face" class="interactive-element"></div>
      <div id="Uditi_Face" class="interactive-element"></div>
      <div id="Haroon_Face" class="interactive-element"></div>
      <div id="Calendar" class="interactive-element"></div>
      <div id="Uditi_Laptop" class="interactive-element"></div>
      <div id="Vial" class="interactive-element"></div>
      <div id="Haroon_Papers" class="interactive-element"></div>
      <div id="Ivan_Phone" class="interactive-element"></div>
      <div id="Ivan_Papers" class="interactive-element"></div>



      <!-- Subtitle that pops up on interaction -->
      <div id="subtitle"></div>


      <!-- Dialogue box -->
      <div id="dialogue-box">Maryam’s body is found in a hallway.</div>
    </div>


    <!-- Navigation buttons -->
    <div id="nav-buttons">
      <button id="prev-btn">Previous</button>
      <button id="next-btn">Next</button>
    </div>
  </section>

  <!-- Team Section -->
  <div class="team-section">
    <h2>Meet the Team</h2>
    <div class="team-container">
      <!-- Team Member 1 -->
      <div class="team-member">
        <img src="media/ivan.jpg" alt="Team Member 1">
        <h3>Ivan</h3>
        <p>Lead Writer and Storyteller. Jane brings the narrative magic to life with her compelling stories.</p>
      </div>

      <!-- Team Member 2 -->
      <div class="team-member">
        <img src="media/uditii.jpg" alt="Team Member 2">
        <h3>Uditi</h3>
        <p>Illustrator and Animator. John is responsible for creating the stunning visuals in the comic.</p>
      </div>

      <!-- Team Member 3 -->
      <div class="team-member">
        <img src="media/haroon.jpg" alt="Team Member 3">
        <h3>Haroon</h3>
        <p>Technical Lead. Alice ensures the interactive elements run smoothly across all platforms.</p>
      </div>

      <!-- Team Member 4 -->
      <div class="team-member">
        <img src="media/maryam.jpg" alt="Team Member 4">
        <h3>Maryam</h3>
        <p>Project Manager. Michael oversees the project and makes sure everything is on track.</p>
      </div>
    </div>

  </div>
  <!-- About Section -->
  <section id="about">
    <h2>About This Comic</h2>
    <p>This interactive comic explores the mystery of Maryam's disappearance. It's designed to engage readers through
      clickable elements that uncover different parts of the story.</p>
    <p>Our goal is to merge traditional storytelling with interactive media to create an immersive experience for
      readers of all ages. Whether you're a fan of comics, mysteries, or both, we hope you enjoy this journey!</p>
  </section>


  <!-- Contact Section -->
  <section id="contact">
    <h2>Contact Us</h2>
    <p>If you have any questions, feedback, or just want to say hi, feel free to reach out to us!</p>
    <p>Email: info@interactivecomic.com</p>
    <p>Phone: +1-234-567-890</p>
    <p>Follow us on social media for updates and more interactive stories!</p>
  </section>


  <script>
    // Scene data (from the JavaScript scene manager system)
    let scenes = {
      "scene_1": {
        scene_id: 1,
        image: "media/p1a.jpg",
        dialogue: "Where am I, and why am I dead?!",
        next_scenes: [2],
        interactive_elements: [{ element: "phone", triggers: 101, subtitle: "" },
        { element: "coffee_cup", triggers: null, subtitle: "The coffee cup is still warm." }
        ]
      },
      "scene_101": {
        scene_id: 101,
        image: "media/p1a_c1.jpg",
        dialogue: "",
        next_scenes: [2],
        interactive_elements: []
      },
      "scene_2": {
        scene_id: 2,
        image: "media/p2a.jpg",
        dialogue: "I remember I was working with my group. But something seemed off.",
        next_scenes: [201],
        interactive_elements: []
      },
      "scene_201": {
        scene_id: 201,
        image: "media/p2b.jpg",
        dialogue: "Why was everyone acting so off that day? Were they really annoyed at me, or was something deeper going on...?",
        next_scenes: [3],
        interactive_elements: [
          { element: "Ivan_Face", triggers: null, subtitle: "Ivan was really stressed out over the assignment." },
          { element: "Uditi_Face", triggers: null, subtitle: "Uditi was distracted by her phone." },
          { element: "Haroon_Face", triggers: null, subtitle: "Haroon was looking at me weird." }
        ]
      }, "scene_3": {
        scene_id: 3,
        image: "media/p3a.jpg",
        dialogue: "Uditi’s been acting strange. Why didn’t I notice this sooner? What was she hiding?",
        next_scenes: [4],
        interactive_elements: [
          { element: "Calendar", triggers: 301, subtitle: "", increments_clue_counter: true },
          { element: "Uditi_Laptop", triggers: 302, subtitle: "", increments_clue_counter: true },
        ]
      }, "scene_301": {
        scene_id: 301,
        image: "media/p3a_c1.jpg",
        dialogue: "That date… what was so important about today, Uditi?",
        next_scenes: [3],
        interactive_elements: []
      }, "scene_302": {
        scene_id: 302,
        image: "media/p3a_c2.jpg",
        dialogue: "What do they need to talk about?",
        next_scenes: [3],
        interactive_elements: []
      },
      "scene_4": {
        scene_id: 401,
        image: "media/p4a.jpg",
        dialogue: "What are you hiding, Haroon? That vial… is that part of your experiment?",
        next_scenes: [5],
        interactive_elements: [
          { element: "Vial", triggers: 401, subtitle: "", increments_clue_counter: true },
          { element: "Haroon_Papers", triggers: 402, subtitle: "", increments_clue_counter: true }]
      },
      "scene_401": {
        scene_id: 401,
        image: "media/p4a_c1.jpg",
        dialogue: "The research papers...",
        next_scenes: [4],
        interactive_elements: []
      }, "scene_402": {
        scene_id: 402,
        image: "media/p4a_c2.jpg",
        dialogue: "The vial...",
        next_scenes: [4],
        interactive_elements: []
      },
      "scene_5": {
        scene_id: 5,
        image: "media/p5a.jpg",
        dialogue: "Ivan, I know you were mad about the project. But were you really angry enough to kill me over it?",
        next_scenes: [6],

        interactive_elements: [
          { element: "Ivan_Phone", triggers: 501, subtitle: "", increments_clue_counter: true },
          { element: "Ivan_Papers", triggers: null, subtitle: "More strange papers...", increments_clue_counter: true }
        ]
      },
      "scene_501": {
        scene_id: 501,
        image: "media/p5a_c1.jpg",
        dialogue: "A message... Is this about me?",
        next_scenes: [5],
        interactive_elements: []
      },
      "scene_6": {
        scene_id: 6,
        image: "media/p6a.jpg",
        dialogue: "Incorrect ending, perhaps you didn't see enough clues... ",
        next_scenes: [null],
        interactive_elements: []
      },
      "scene_601": {
        scene_id: 601,
        image: "media/p6b.jpg",
        dialogue: "This is how I was murdered...",
        next_scenes: [602],
        interactive_elements: []
      },
      "scene_602": {
        scene_id: 601,
        image: "media/p6c.jpg",
        dialogue: "Congrats! You found enough clues and discovered Maryam's killers...",
        next_scenes: [null],
        interactive_elements: []
      }

    };

    let currentScene = scenes["scene_1"];

    // Clue counter initialization
    let clue_counter = 0;

    function displayScene(scene) {
      document.getElementById("comic-image").src = scene.image;
      document.getElementById("dialogue-box").innerText = scene.dialogue;
      document.getElementById("subtitle").style.display = "none";

      // Hide all interactive elements by default
      document.querySelectorAll(".interactive-element").forEach(el => {
        el.style.display = "none";
        el.onclick = null;  // Remove previous click event
      });

      // Show interactive elements for the current scene
      scene.interactive_elements.forEach(interactive => {
        let el = document.getElementById(interactive.element);
        if (el) {
          el.style.display = "block";
          el.onclick = function () {
            handleInteraction(interactive, el);  // Pass the element to handleInteraction
          };
        }
      });
    }

    function handleInteraction(interactive, element) {
      if (interactive.triggers) {
        currentScene = scenes["scene_" + interactive.triggers];
        displayScene(currentScene);
      } else if (interactive.subtitle) {
        let subtitleBox = document.getElementById("subtitle");
        subtitleBox.innerText = interactive.subtitle;
        subtitleBox.style.display = "block";
      }

      // Increment the clue counter and hide the clicked element
      // Check if this interaction should increase the clue counter
      if (interactive.increments_clue_counter) {
        clue_counter++;
        console.log("Clue Counter: " + clue_counter);  // Log the clue count
      }
      element.style.display = "none";
    }

    // Updated next button logic
    document.getElementById("next-btn").addEventListener("click", function () {
      if (!currentScene.next_scenes || currentScene.next_scenes.length === 0) {
        console.error("No next scenes available.");
        return;
      }

      let nextSceneId = currentScene.next_scenes[0];

      // Special check before going to Scene 6 endings
      if (currentScene.scene_id === 5) {
        // Check if clue_counter is 3 or more
        if (clue_counter >= 3) {
          currentScene = scenes["scene_601"];  // Good ending
        } else {
          currentScene = scenes["scene_6"];  // Wrong ending
        }
      } else {
        currentScene = scenes["scene_" + nextSceneId];

        // Check if the scene exists
        if (!currentScene) {
          console.error("Next scene is undefined or null.");
          return;
        }
      }

      displayScene(currentScene);
    });

    document.getElementById("prev-btn").addEventListener("click", function () {
      alert('Back navigation not implemented yet!');
    });

    displayScene(currentScene);
  </script>

</body>

</html>
